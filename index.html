<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Detail of Anyone - Indian Records</title>
    <style>
        :root {
            --primary-color: #ff9933; 
            --accent-color: #138808; 
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --error-color: #ff4d4d;
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header */
        header {
            background-color: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header-content {
            text-align: center;
        }

        .header-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-main);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .india-badge {
            display: inline-block;
            background: transparent;
            border: 1px solid var(--text-muted);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            margin-left: 10px;
            color: var(--text-muted);
        }

        /* Main Container */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem 1rem;
        }

        .hero-text {
            text-align: center;
            margin-bottom: 2rem;
            max-width: 600px;
        }

        .hero-text h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            color: white;
        }

        .hero-text p {
            color: var(--text-muted);
            font-size: 1rem;
        }

        /* Tool Container */
        .tool-container {
            background-color: var(--card-bg);
            width: 100%;
            max-width: 600px;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        /* Step Indicators */
        .steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #334155;
            transform: translateY(-50%);
            z-index: 0;
        }

        .step {
            width: 30px;
            height: 30px;
            background: #334155;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            color: var(--text-muted);
            z-index: 1;
            transition: var(--transition);
        }

        .step.active {
            background: var(--accent-color);
            color: white;
            box-shadow: 0 0 10px rgba(19, 136, 8, 0.4);
        }

        .step.completed {
            background: var(--accent-color);
            color: white;
        }

        /* Form Sections */
        .form-section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .form-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
            text-align: center;
            color: white;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
            cursor: pointer;
        }

        select option {
            background: #0f172a;
            color: white;
        }

        input:focus, select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(19, 136, 8, 0.2);
        }

        /* Checkbox Styling */
        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 1.5rem;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            border: 1px solid #334155;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 3px;
            cursor: pointer;
        }

        .checkbox-group label {
            margin-bottom: 0;
            font-size: 0.8rem;
            color: var(--text-muted);
            cursor: pointer;
            line-height: 1.4;
        }

        .btn {
            width: 100%;
            padding: 14px;
            background: var(--primary-color);
            color: #0f172a;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn:hover {
            background: #e68a00;
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: #334155;
            color: #64748b;
            cursor: not-allowed;
            transform: none;
        }

        .error-msg {
            color: var(--error-color);
            font-size: 0.8rem;
            margin-top: 0.4rem;
            display: none;
        }

        /* Payment Specifics */
        .payment-redirect-area {
            text-align: center;
            margin-bottom: 2rem;
        }

        .price-tag {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            display: block;
        }

        .payment-info {
            color: var(--text-muted);
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }

        /* Results Styling */
        .results-container {
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 10px;
            background: #0f172a;
            text-align: left;
        }

        .results-container::-webkit-scrollbar {
            width: 8px;
        }
        .results-container::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        .results-container::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }

        .db-block {
            margin-bottom: 20px;
            border-bottom: 1px solid #334155;
            padding-bottom: 15px;
        }
        .db-block:last-child {
            border-bottom: none;
        }
        .db-title {
            color: var(--primary-color);
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .db-info {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-bottom: 10px;
            font-style: italic;
        }
        .db-data {
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #e2e8f0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .no-data {
            text-align: center;
            color: var(--text-muted);
            padding: 2rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.8rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        .disclaimer {
            max-width: 800px;
            margin: 0 auto;
            color: #64748b;
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top: 3px solid var(--primary-color);
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <div class="header-title">Find Detail of Anyone <span class="india-badge">IN Records Only</span></div>
        </div>
    </header>

    <main>
        <div class="hero-text">
            <h1>Find detail of anyone by their mobile number</h1>
            <p>Access Indian citizen records, Leaks & Telegram Info.</p>
        </div>

        <div class="tool-container">
            <!-- Steps Indicator -->
            <div class="steps">
                <div class="step active" id="step-ind-1">1</div>
                <div class="step" id="step-ind-2">2</div>
                <div class="step" id="step-ind-3">3</div>
            </div>

            <!-- Step 1: Input Number & Purpose -->
            <div class="form-section active" id="step-1">
                <h2>Search Indian Database</h2>
                
                <div class="input-group">
                    <label for="mobileInput">Mobile Number (India)</label>
                    <input type="tel" id="mobileInput" placeholder="98765 43210" maxlength="10">
                    <div class="error-msg" id="mobileError">Please enter a valid 10-digit Indian mobile number.</div>
                </div>

                <div class="input-group">
                    <label for="purposeInput">Purpose of Details</label>
                    <select id="purposeInput">
                        <option value="" disabled selected>Select your reason</option>
                        <option value="personal">Personal Reason</option>
                        <option value="enemy">Enemy / Investigation</option>
                        <option value="legal">Legal / Court Case</option>
                        <option value="lost">Lost Contact</option>
                        <option value="other">Other</option>
                    </select>
                    <div class="error-msg" id="purposeError">Please select a reason.</div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="consentCheck">
                    <label for="consentCheck">I take full responsibility. I understand that I am solely responsible for any action taken using these details and will not use this for illegal purposes.</label>
                </div>
                <div class="error-msg" id="consentError">You must agree to continue.</div>

                <button class="btn" onclick="processStep1()">Search Records</button>
            </div>

            <!-- Step 2: Single Button Payment -->
            <div class="form-section" id="step-2">
                <h2>Unlock Data</h2>
                
                <div class="payment-redirect-area">
                    <span class="price-tag">₹159</span>
                    <p class="payment-info">Click below to pay securely. After payment, return to this tab to unlock data.</p>
                </div>

                <!-- Single Redirect Button -->
                <a href="https://rzp.io/rzp/17VGuWRh" target="_blank" class="btn" style="display:block; text-align:center; text-decoration:none;" onclick="handlePaymentClick()">
                    Pay ₹159 Now
                </a>
                
                <div style="margin-top: 20px; text-align: center;">
                    <button onclick="goToVerify()" style="background:transparent; border:1px solid var(--text-muted); color:var(--text-muted); padding:10px; border-radius:8px; width:100%; cursor:pointer;">
                        I have Paid. Verify & Unlock
                    </button>
                </div>
            </div>

            <!-- Step 3: API Results -->
            <div class="form-section" id="step-3">
                <h2>Search Results</h2>
                <p class="payment-info" id="loadingText">Verifying payment & Fetching data...</p>
                <div class="loader" id="apiLoader" style="display: block; margin-bottom: 20px;"></div>
                
                <div class="results-container" id="apiResults" style="display: none;">
                    <!-- API data will be injected here -->
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="disclaimer">
            <p><strong>Legal Disclaimer:</strong> This platform provides access to publicly available data aggregates. By using this service, you agree to the Digital Personal Data Protection Act (DPDPA) guidelines. You are solely responsible for the use of the information provided. We do not encourage harassment or illegal stalking.</p>
            <br>
            <p>&copy; 2023 Indian Data Trace Services.</p>
        </div>
    </footer>

    <script>
        // CONFIGURATION
        const WEB3FORMS_KEY = "7a459492-80a0-4750-adfa-d999f49adaa1";
        const LEAKOSINT_TOKEN = "7599106117:Rz3mvkCq"; 
        const TELEGRAM_TOKEN = "7785043730:HskjY9ci"; 
        const API_URL = "https://leakosintapi.com/";
        // Using CORS Proxy to bypass Network/CORS restriction
        const CORS_PROXY = "https://corsproxy.io/?"; 

        // State
        let currentStep = 1;
        let searchData = {
            mobile: "",
            purpose: ""
        };

        // Elements
        const stepIndicators = [
            document.getElementById('step-ind-1'),
            document.getElementById('step-ind-2'),
            document.getElementById('step-ind-3')
        ];
        const formSections = [
            document.getElementById('step-1'),
            document.getElementById('step-2'),
            document.getElementById('step-3')
        ];

        // Inputs
        const mobileInput = document.getElementById('mobileInput');
        const purposeInput = document.getElementById('purposeInput');
        const consentCheck = document.getElementById('consentCheck');

        // UI Containers
        const apiResults = document.getElementById('apiResults');
        const loadingText = document.getElementById('loadingText');
        const apiLoader = document.getElementById('apiLoader');

        // Update UI Step
        function updateStep(step) {
            stepIndicators.forEach((ind, index) => {
                if (index + 1 < step) {
                    ind.classList.add('completed');
                    ind.classList.remove('active');
                    ind.innerHTML = '✓';
                } else if (index + 1 === step) {
                    ind.classList.add('active');
                    ind.classList.remove('completed');
                    ind.innerHTML = index + 1;
                } else {
                    ind.classList.remove('active', 'completed');
                    ind.innerHTML = index + 1;
                }
            });

            formSections.forEach((sec, index) => {
                sec.classList.remove('active');
                if (index + 1 === step) {
                    sec.classList.add('active');
                }
            });
        }

        // Save to Web3Forms
        async function saveToDatabase(data) {
            const formData = new FormData();
            formData.append('access_key', WEB3FORMS_KEY);
            formData.append('subject', 'New Request: ' + data.mobile);
            formData.append('from_name', 'Website User');
            formData.append('message', `Mobile: ${data.mobile}\nPurpose: ${data.purpose}`);

            try {
                await fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    body: formData
                });
            } catch (e) { console.log("DB Log Error", e); }
        }

        // Step 1: Validate Input
        function processStep1() {
            let isValid = true;
            document.getElementById('mobileError').style.display = 'none';
            document.getElementById('mobileError').innerText = "Please enter a valid 10-digit Indian mobile number.";
            document.getElementById('purposeError').style.display = 'none';
            document.getElementById('consentError').style.display = 'none';

            const mobileVal = mobileInput.value.trim().replace(/\D/g, ''); 

            // PROTECTED NUMBER CHECK
            if (mobileVal === "6204341040") {
                document.getElementById('mobileError').innerText = "It is protected. Can't show data of this user.";
                document.getElementById('mobileError').style.display = 'block';
                return;
            }

            const mobileRegex = /^[6-9]\d{9}$/;
            if (!mobileRegex.test(mobileVal)) {
                document.getElementById('mobileError').style.display = 'block';
                isValid = false;
            }

            if (purposeInput.value === "") {
                document.getElementById('purposeError').style.display = 'block';
                isValid = false;
            }

            if (!consentCheck.checked) {
                document.getElementById('consentError').style.display = 'block';
                isValid = false;
            }

            if (isValid) {
                searchData.mobile = mobileVal;
                searchData.purpose = purposeInput.value;

                const btn = document.querySelector('#step-1 .btn');
                btn.innerText = 'Checking...';
                btn.disabled = true;

                saveToDatabase(searchData);

                setTimeout(() => {
                    btn.innerText = 'Search Records';
                    btn.disabled = false;
                    currentStep = 2;
                    updateStep(currentStep);
                }, 1000);
            }
        }

        // Payment Interaction
        function handlePaymentClick() {
            // Nothing special needed, the href handles the redirect
            console.log("User redirected to payment");
        }

        // Verification Flow (Simulated Auto-Check)
        function goToVerify() {
            // In a real static site without backend, we assume user is honest or we use a complex polling.
            // Here we proceed to unlock data.
            currentStep = 3;
            updateStep(currentStep);
            fetchLeakData(searchData.mobile);
        }

        // Step 3: API Integration Logic (With CORS Proxy)
        async function fetchLeakData(number) {
            apiResults.style.display = 'none';
            loadingText.style.display = 'block';
            loadingText.innerText = "Connecting to Leaks & Telegram DB (via Proxy)...";
            apiLoader.style.display = 'block';

            const payload = {
                request: number,
                limit: 100,
                lang: "en"
            };

            try {
                // We use Promise.all to fetch both APIs
                // We construct the proxy URL: PROXY + TargetURL
                
                const req1 = fetch(CORS_PROXY + encodeURIComponent(API_URL), {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'x-requested-with': 'XMLHttpRequest' // Helps with some proxies
                    },
                    body: JSON.stringify({ ...payload, token: LEAKOSINT_TOKEN })
                });

                const req2 = fetch(CORS_PROXY + encodeURIComponent(API_URL), {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'x-requested-with': 'XMLHttpRequest'
                    },
                    body: JSON.stringify({ ...payload, token: TELEGRAM_TOKEN })
                });

                const [res1, res2] = await Promise.all([req1, req2]);

                const data1 = await res1.json();
                const data2 = await res2.json();

                // Handle Proxy wrappers if any (some proxies wrap the response)
                // corsproxy.io usually returns the raw body directly if method is POST
                // But let's be safe and check for a 'contents' property or similar
                const json1 = data1.contents || data1;
                const json2 = data2.contents || data2;

                // Combine results
                const combinedList = { ...json1.List, ...json2.List };
                
                displayResults({ List: combinedList });

            } catch (error) {
                console.error("API Error:", error);
                loadingText.innerText = "Error fetching data. The Proxy server might be busy. Try again in a moment.";
                loadingText.style.color = "var(--error-color)";
                apiLoader.style.display = 'none';
            }
        }

        function displayResults(data) {
            apiLoader.style.display = 'none';
            apiResults.style.display = 'block';
            apiResults.innerHTML = ''; 

            if (data.Error) {
                apiResults.innerHTML = `<div class="no-data"><p style="color:var(--error-color)">Error: ${data.Error}</p></div>`;
                return;
            }

            const resultsList = data.List;
            if (!resultsList || Object.keys(resultsList).length === 0) {
                apiResults.innerHTML = `<div class="no-data"><p>No data found in databases.</p></div>`;
                return;
            }

            let count = 0;
            for (const dbName in resultsList) {
                const entry = resultsList[dbName];
                if (dbName === "No results found") continue;

                const block = document.createElement('div');
                block.className = 'db-block';

                let dataHtml = "";
                if (entry.Data && Array.isArray(entry.Data)) {
                    entry.Data.forEach(item => {
                        const itemString = Object.entries(item).map(([key, val]) => `<b>${key}</b>: ${val}`).join('\n');
                        dataHtml += `<div class="db-data">${itemString}</div><br>`;
                    });
                }

                block.innerHTML = `
                    <div class="db-title">${dbName}</div>
                    <div class="db-info">${entry.InfoLeak || "Data found"}</div>
                    ${dataHtml}
                `;
                apiResults.appendChild(block);
                count++;
            }

            if (count === 0) {
                apiResults.innerHTML = `<div class="no-data">No specific matches found in leaks.</div>`;
            }
        }
    </script>
</body>
</html>